<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
  <meta name="format-detection" content="telephone=no">

  <link rel="shortcut icon" href="/favicon.ico">
  <meta name="mobile-web-app-capable" content="yes">
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#2b5797">
  <meta name="msapplication-config" content="/browserconfig.xml">
  <meta name="msapplication-TileColor" content="#2b5797">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-title" content="Groveld">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ff0000">

  <meta name="description" content="Understanding Group Policy Processing in Active Directory Domain Services">
  <meta name="author" content="groveld">
  <link rel="alternate" type="application/atom+xml" title="Martin Groeneveld" href="/atom.xml">
  <link rel="canonical" href="https://www.groveld.com/articles/group-policy-processing">
  <title>Understanding Group Policy Processing - Martin Groeneveld</title>

  <link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Roboto+Slab' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
  <link rel="stylesheet" href="/css/syntax.ac71e7f.css">
  <link rel="stylesheet" href="/css/main.ac71e7f.css">

  
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-134156954-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-134156954-1');
</script>


</head>
<body>
  
<nav class="navbar fixed-top navbar-expand-lg navbar-light">
  <span class="navbar-brand mb-0 h1">
    <a class="d-inline-block mr-1" href="/">
      <img src="/images/logo.svg" width="30" height="30" class="d-inline-block align-top" alt="logo">
    </a>
    Martin Groeneveld
  </span>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbar">
    <div class="navbar-nav ml-auto">
      <a class="nav-item nav-link" href="/">Home</a>
      <a class="nav-item nav-link active" href="/archive">Archive</a>
      <a class="nav-item nav-link" href="/about">About</a>
    </div>
  </div>
</nav>


<header>
  <div class="container-fluid py-3 py-lg-5">
    <h1 class="my-0 py-0">Understanding Group Policy Processing</h1>
  </div>
</header>



<main>
  <div class="container-fluid mt-3 mb-2 mt-lg-4 mb-lg-3">
    <div class="row">
      <div class="col">

        <p><strong>Group Policy Processing</strong>: You can have local policies, site policies, domain policies, and OU policies within your domain structure. To learn how to best implement Group Policies to serve the organization, you need to understand the order in which the policies are applied.</p>

<p>Nonlocal <a href="https://en.wikipedia.org/wiki/Group_Policy">GPOs</a> are created in Active Directory and linked to container objects. Nonlocal <a href="https://en.wikipedia.org/wiki/Group_Policy">GPOs</a> can be linked to Active Directory sites, domains, or OUs. They cannot be linked to built-in containers, such as the default Users, Builtin, or Computer containers. These containers can receive policies only through domain or site-linked policies that flow down to all objects within them.</p>

<h2 id="understating-group-policy-processing">Understating Group Policy Processing</h2>

<p>Policies affect the containers to which they are linked in the following ways:</p>

<ul>
  <li>Site-linked policies affect all domains within a site.</li>
  <li>Domain-linked policies affect all users and computers within a domain and within any containers within a domain. This includes objects in built-in containers, as well as objects within OUs and sub-OUs within the domain structure.</li>
  <li>OU-linked policies affect all objects within the OU and any other OU structure nested within them.</li>
</ul>

<p>To begin, policies are processed in the following order, typically referred as <strong>LSDOU</strong>:</p>

<ol>
  <li>Local Policies</li>
  <li>Site policies</li>
  <li>Domain policies</li>
  <li>OU policies</li>
</ol>

<p>Following the order of processing from steps 1 to 4, the settings in the policies that are processed last, that is, those that are assigned to an OU in step 4, override any conflicting settings in the policies that were processed in the previous steps.</p>

<p>For example, suppose you have a policy setting that is applied to the site and affects all domains and their contents. If you have modified the same settings to produce a different result in an OU policy, the OU policy settings prevail. This behavior is intentional and provides administrators with flexibility in Group Policy application. In addition, as policies are applied, each container inherits the settings of the parent container policies by default.</p>

<p>Domains, sites, and OUs can have multiple group policies linked to them. Expanding on the previous example, you might have more than one policy linked to the Education department’s OU. In this situation, the top GPO in the list is processed last. When multiple <a href="https://en.wikipedia.org/wiki/Group_Policy">GPOs</a> are linked to a container, the first GPO in the list has the highest priority. In other words, by default, the list of linked <a href="https://en.wikipedia.org/wiki/Group_Policy">GPOs</a> is processed from the bottom to the top.</p>

<p>Policies can be applied to containers and the user and computer objects that reside in them. Computer configuration settings are processed when a computer starts, followed by <strong>User Configuration settings</strong>, which are processed during user login. Computer startup scripts and user logon scripts can run during startup. In addition, user logoff scripts and computer shutdown scripts can run during shutdown.</p>

<p>The following steps describe the process of implementing the settings of the assigned <a href="https://en.wikipedia.org/wiki/Group_Policy">GPOs</a> for a computer and user:</p>

<ol>
  <li>When a computer is initializing during startup, it establishes a secure link between the computer and a domain controller. Then, the computer objects a list of <a href="https://en.wikipedia.org/wiki/Group_Policy">GPOs</a> to be applied.</li>
  <li>Computer configuration settings are applied synchronously during computer startup before the logon dialog box is presented to the user. Synchronous processing of policies means that each policy must be read and applied completely before the next policy can be invoked. The default synchronous behavior can be modified by the system administrator if necessary, although such modification is discouraged. No user interface is displayed during this process with the exception of a startup dialog box indication that policies are being applied. The policies are read and applied in the LSDOU sequence described earlier.</li>
  <li>Any startup scripts set to run during computer startup are processed. These scripts also run synchronously and have a default timeout of 600 seconds to complete. This process is hidden from the user.</li>
  <li>When the computer configuration scripts and startup scripts are complete, the user is prompted to press <em>Ctrl + Alt + Del</em> to log on.</li>
  <li>Upon successful authentication, the user profile is loaded, based on the Group Policy settings in effect.</li>
  <li>A list of <a href="https://en.wikipedia.org/wiki/Group_Policy">GPOs</a> specific for the user is obtained from the domain controller. User configuration settings also are processed in the LSDOU sequence. The GPO processing is again transparent to the user, and the policies are processed synchronously.</li>
  <li>After the user policies run, any logon scripts run. These scripts, unlike the startup scripts, run asynchronously by default. Asynchronously processing allows multiple scripts to be processed at the same time, without waiting for the outcome of a previously launched script to occur. However, the user object script runs last.</li>
  <li>The user’s desktop appears after all policies and scripts have been processed.</li>
</ol>



      </div>
    </div>
  </div>
</main>

<footer>
  <div class="container-fluid">
    <p class="small text-center my-0">&copy; 2019 Martin Groeneveld &bull; <a href="/terms">Terms</a> &bull; <a href="/privacy">Privacy</a></p>
  </div>
</footer>



  <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
  <script src="/js/vhfix.ac71e7f.js"></script>
  <script src="/js/main.ac71e7f.js"></script>
</body>
</html>
