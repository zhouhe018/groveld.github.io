<!DOCTYPE html>
<html lang="en">
<head>
  <!-- meta info -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
  <meta name="format-detection" content="telephone=no">
  <!-- favicon and webapp behaviour -->
  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#1e88e5">
  <meta name="msapplication-config" content="/browserconfig.xml">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-title" content="Groveld">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/icons/apple-touch-icon.png">
  <link rel="mask-icon" href="/images/icons/safari-pinned-tab.svg" color="#1e88e5">
  <!-- site info -->
  <meta name="description" content="A tutorial showing you how to give an Ubuntu user the right to edit and add files in the /var/www folders.">
  <meta name="author" content="groveld">
  <link rel="alternate" type="application/atom+xml" title="Martin Groeneveld" href="/atom.xml">
  <link rel="canonical" href="https://www.groveld.com/articles/give-user-permission-to-edit-and-add-files-in-var-www">
  <title>Give user permission to edit and add files in /var/www - Martin Groeneveld</title>
  <!-- Bootstrap CSS and Custom CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
    crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU"
    crossorigin="anonymous">
  <link rel="stylesheet" href="/43b7537dab5df6c3c7aad8c5c83fe5ad00692ea2.css">
</head>
<body>

  
<nav class="navbar fixed-top navbar-expand-lg navbar-light">
  <!-- <div class="container-fluid"> -->
  <a class="navbar-brand" href="/">
    <img src="/images/logo.png" width="30" height="30" class="d-inline-block align-top mr-1" alt="logo">
    <span style="font-weight: 200;">Martin</span> Groeneveld
  </a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbar">
    <div class="navbar-nav ml-auto">
      <a class="nav-item nav-link" href="/">Home</a>
      <a class="nav-item nav-link active" href="/articles/">Articles</a>
      <a class="nav-item nav-link" href="/about">About</a>
      <!-- <a class="nav-item nav-link" href="/contact">Contact</a> -->
    </div>
  </div>
  <!-- </div> -->
</nav>


<header class="navbar-offset mb-4">
  <div class="container-fluid py-5">
    <h1 class="my-0">Give user permission to edit and add files in /var/www</h1>
  </div>
</header>



  <div class="container-fluid">
  <div class="row">
    <div class="col">

      <!-- <h1>Give user permission to edit and add files in /var/www</h1> -->
      <p>Tutorial showing you how to give an Ubuntu user the right to edit and add files in the <code class="highlighter-rouge">/var/www</code> folders.</p>

<p>Add the www-data group to an existing user</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>usermod <span class="nt">-a</span> <span class="nt">-G</span> www-data username
</code></pre></div></div>

<p>OR if the user doesn’t exist: Create a new user and assign them the <code class="highlighter-rouge">www-data</code> group</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>adduser username www-data
</code></pre></div></div>

<p>Make sure all files are owned by the www-data group and user (cleans up the ownership)</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo chown</span> <span class="nt">-R</span> www-data:www-data /var/www
</code></pre></div></div>

<p>Enable all members of the www-data group to read and write files</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo chmod</span> <span class="nt">-R</span> g+rw /var/www
</code></pre></div></div>

<p><strong>Note:</strong> You are done. But if you want all future files created in this directory to keep the current setup do the following as well:</p>

<p>This is what I do to ensure that all files created keep the current user and permissions (it’s really lame to create new files, say from Git, and then have to update the user, groups and permissions of the new files every time to ensure they can be run by the server)</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo chmod</span> <span class="nt">-R</span> g+rws /var/www
</code></pre></div></div>

<p><strong>Final Note:</strong> For security reasons it may be better to keep /var/www owned by root:root (depending on what you are doing)</p>

<p>If you want to keep <code class="highlighter-rouge">/var/www</code> owned by root replace step 2 with</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo chgrp</span> <span class="nt">-R</span> www-data /var/www/<span class="k">*</span>
</code></pre></div></div>


    </div>
  </div>

  

</div>


  <!-- Footer -->
  <footer class="py-3">
    <div class="container-fluid">
      <div class="row">
        <div class="col">
          <div class="small text-center">
            &copy; 2018 Martin Groeneveld &bull; <a href="/terms">Terms</a> &bull; <a href="/privacy">Privacy</a>
          </div>
        </div>
      </div>
    </div>
  </footer>

  
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-47976921-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() { dataLayer.push(arguments); }
  gtag('js', new Date());
  gtag('config', 'UA-47976921-1');
</script>



  <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
  <script src="/vhfix.js"></script>
  <script src="/43b7537dab5df6c3c7aad8c5c83fe5ad00692ea2.js"></script>

</body>
</html>
